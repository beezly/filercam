<!DOCTYPE html>
<html>
  <head>
    <title>Filercam</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
  </head>
  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">Filercam</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#contact">Contact</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>
    <div class="container">
    <p class="lead">We've spotted an orange light...</p>
    <p>Our NetApp filer broke and we replaced some parts. When we turned it back on, it had an orange light on it. We don't know what the orange light means, but maybe if we keep watching it, it will go away.</p>
    <p><img id="filercam-image" src="/overlay.gif" style="display: block; padding: 1px; background-image: url('/still.jpg');" alt="The Orange LED" height="480" width="640" /></p>
    <p class="lead">Brought to you by <a href="http://twitter.com/tom_griffin">@tom_griffin</a> (switch config and firewall), <a href="http://twitter.com/tim_parkinson">@tim_parkinson</a> (somehow made the orange light turn on and plugged in the webcam) and <a href="http://twitter.com/beezly">@beezly</a> (web server/reverse caching proxy, html, "graphics designer" and nasty javascript).</p>
    <p>Updates every few seconds. Works in most browsers, but we didn't bother to test IE.</p>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
      function updateImage() {
        var preLoad = new Image();
        var theDate = new Date();
        preLoad.src="/still.jpg?time=" + theDate;

        preLoad.addEventListener("load", function() { document.getElementById("filercam-image").style.backgroundImage = "url('/still.jpg?time=" + theDate + "')"; } );
      }

      setInterval(updateImage, 1000);
    </script>
    </div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38119319-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </body>
</html>
